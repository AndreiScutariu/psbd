@model IEnumerable<MedicalClinic.Models.User.UserModel>
@using GridMvc.Html

@{
    ViewBag.Title = "Medical Clinic";
}

<meta name="viewport" content="width=device-width" />
<link href="@Url.Content("~/Content/grid/Gridmvc.css")" rel="stylesheet" />
<script src="@Url.Content("~/Scripts/gridmvc.min.js")"></script>
<script src="@Url.Content("~/Scripts/gridmvc.customwidgets.js")" type="text/javascript"> </script>

<script type="text/javascript">
    $(function () {
        pageGrids.usersGrid.addFilterWidget(new CustomersFilterWidget());
    });
</script>

<div class="jumbotron">
    <p>Sunteti administratorul paginii. Puteti adauga, modifica sau sterge noi membri la personalul clinicii.</p>
    @Html.ActionLink("Adauga un nou membru", "AddUser", "Admin", null, new { @class = "modal-link btn-primary btn" })
</div>

<div class="page-header">
    <h4 id="tables">Staful activ al clinicii</h4>
</div>

@Html.Grid(Model).Named("usersGrid").Columns(columns =>
    {
        columns.Add(u => u.CurrentIndex)
            .Titled("#")
            .Filterable(false);
        columns.Add(u => u.FullName)
            .Titled("Nume Intreg");
        columns.Add(u => u.UserRole)
            .Titled("Rol")
            .SetFilterWidgetType("RoleFilter");
        columns.Add(u => u.Email)
            .Titled("Adresa de Email");
        columns.Add(u => u.Parrent)
            .Titled("Asitentul lui");
        columns.Add()
            .Encoded(false)
            .Sanitized(false)
            .SetWidth(30)
            .RenderValueAs(u =>
                @<b>
                    @Html.ActionLink("Edit", "EditUser", new { userId = u.Id }, new { @class = "modal_link" })
                </b>);
         columns.Add()
            .Encoded(false)
            .Sanitized(false)
            .SetWidth(30)
            .RenderValueAs(u =>
                @<b>
                    @Html.ActionLink("Delete", "Delete", new { userId = u.Id }, new { @class = "modal_link" })
                </b>);
    }).WithPaging(7).Sortable().Filterable().WithMultipleFilters()